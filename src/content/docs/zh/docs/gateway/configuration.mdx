---
title: é…ç½®
description: ~/.openclaw/openclaw.json çš„æ‰€æœ‰é…ç½®é€‰é¡¹åŠç¤ºä¾‹ã€‚
sidebar:
  label: é…ç½®
  order: 1
---

import { Steps, Aside, Tabs, TabItem } from '@astrojs/starlight/components';

# é…ç½® ğŸ”§

OpenClaw é€šè¿‡ `~/.openclaw/openclaw.json` ä¸‹çš„ JSON5 æ–‡ä»¶è¿›è¡Œé…ç½®ã€‚

<Aside type="note">
**JSON5** å…è®¸æ³¨é‡Š (`//`) å’Œå°¾éšé€—å·ï¼Œä½¿å…¶æ¯”æ ‡å‡† JSON æ›´å‹å¥½ã€‚
</Aside>

## æœ€å°é…ç½® (æ¨èèµ·ç‚¹)

```json5
{
  // "agents" å®šä¹‰æ‰€æœ‰ä»£ç†çš„é»˜è®¤å€¼
  agents: {
    defaults: {
      // ä»£ç†ä¿å­˜å…¶è®°å¿†å’ŒæŠ€èƒ½çš„ä½ç½®
      workspace: "~/.openclaw/workspace"
    }
  },
  // "channels" å®šä¹‰ä¸–ç•Œå¦‚ä½•ä¸ Gateway å¯¹è¯
  channels: {
    // ç¤ºä¾‹ï¼šå¯ç”¨ Telegram
    telegram: {
      enabled: true,
      botToken: "123:abc...",
      dmPolicy: "pairing"
    }
  }
}
```

## ç¤ºä¾‹

<Tabs>
  <TabItem label="æœ€å°">
    ä¸€ä¸ªç®€å•çš„è®¾ç½®ï¼Œå¯ç”¨ Telegram å’Œè‡ªå®šä¹‰å·¥ä½œåŒºã€‚

    ```json5
    {
      // å…¨å±€è®¾ç½®
      agents: {
        defaults: {
          workspace: "~/.openclaw/workspace"
        }
      },
      // é¢‘é“é…ç½®
      channels: {
        telegram: {
          enabled: true,
          botToken: "YOUR_TOKEN",
          dmPolicy: "pairing"
        }
      }
    }
    ```
  </TabItem>
  <TabItem label="å®Œæ•´">
    ä¸€ä¸ªæ›´å®Œæ•´çš„é…ç½®ï¼ŒåŒ…å«å¤šä¸ªé¢‘é“å’Œç½‘ç»œå·¥å…·ã€‚

    ```json5
    {
      gateway: {
        port: 18789
      },
      agents: {
        defaults: {
          workspace: "~/.openclaw/workspace",
          model: { primary: "anthropic/claude-3-5-sonnet" }
        }
      },
      channels: {
        whatsapp: {
          enabled: true,
          dmPolicy: "allowlist",
          allowFrom: ["+15551234567"]
        },
        telegram: {
          enabled: true,
          botToken: "YOUR_TOKEN",
          groups: { "*": { requireMention: true } }
        }
      },
      tools: {
        web: {
          search: { enabled: true, provider: "brave" }
        }
      }
    }
    ```
  </TabItem>
</Tabs>

## ç®¡ç†å‘½ä»¤

ä½ ä¸éœ€è¦æ€»æ˜¯æ‰‹åŠ¨ç¼–è¾‘æ–‡ä»¶ã€‚

- **æ£€æŸ¥é…ç½®**: `openclaw doctor`
- **åº”ç”¨æ›´æ”¹**: `openclaw config apply` (é‡å¯ Gateway)
- **è·å–å€¼**: `openclaw config get channels.telegram.enabled`
- **è®¾ç½®å€¼**: `openclaw config set channels.telegram.enabled true`

## ä¸¥æ ¼éªŒè¯

Gateway å¼ºåˆ¶æ‰§è¡Œä¸¥æ ¼çš„æ¶æ„ã€‚å¦‚æœä½ çš„é…ç½®æ— æ•ˆï¼š
1. Gateway å°† **æ‹’ç»å¯åŠ¨**ã€‚
2. è¿è¡Œ `openclaw doctor` æŸ¥çœ‹é”™è¯¯ã€‚
3. æ‰‹åŠ¨ä¿®å¤é”™è¯¯æˆ–ä½¿ç”¨ `openclaw doctor --fix`ã€‚
