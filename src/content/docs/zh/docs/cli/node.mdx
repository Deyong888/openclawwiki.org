---
summary: "`openclaw node` 的 CLI 参考 (无头节点主机)"
read_when:
  - 运行无头节点主机
  - 为 system.run 配对非 macOS 节点
title: "node"
---

# `openclaw node`

运行连接到网关 WebSocket 并在此机器上暴露 `system.run` / `system.which` 的 **无头节点主机**。

## 为什么要使用节点主机?

当您希望代理 **在网络中的其他机器上运行命令** 而无需在那里安装完整的 macOS 伴侣应用时，请使用节点主机。

常见用例:

- 在远程 Linux/Windows 机器 (构建服务器, 实验室机器, NAS) 上运行命令。
- 将执行保持在网关上的 **沙盒** 中，但将批准的运行委托给其他主机。
- 为自动化或 CI 节点提供轻量级、无头的执行目标。

执行仍然受到节点主机上的 **执行批准** 和每个代理白名单的保护，因此您可以保持命令访问的范围和明确性。

## 浏览器代理 (零配置)

如果节点上未禁用 `browser.enabled`，节点主机将自动通告浏览器代理。这允许代理在该节点上使用浏览器自动化，而无需额外配置。

如果需要，在节点上禁用它:

```json5
{
  nodeHost: {
    browserProxy: {
      enabled: false,
    },
  },
}
```

## 运行 (前台)

```bash
openclaw node run --host <gateway-host> --port 18789
```

选项:

- `--host <host>`: 网关 WebSocket 主机 (默认: `127.0.0.1`)
- `--port <port>`: 网关 WebSocket 端口 (默认: `18789`)
- `--tls`: 使用 TLS 进行网关连接
- `--tls-fingerprint <sha256>`: 预期的 TLS 证书指纹 (sha256)
- `--node-id <id>`: 覆盖节点 ID (清除配对令牌)
- `--display-name <name>`: 覆盖节点显示名称

## 服务 (后台)

将无头节点主机安装为用户服务。

```bash
openclaw node install --host <gateway-host> --port 18789
```

选项:

- `--host <host>`: 网关 WebSocket 主机 (默认: `127.0.0.1`)
- `--port <port>`: 网关 WebSocket 端口 (默认: `18789`)
- `--tls`: 使用 TLS 进行网关连接
- `--tls-fingerprint <sha256>`: 预期的 TLS 证书指纹 (sha256)
- `--node-id <id>`: 覆盖节点 ID (清除配对令牌)
- `--display-name <name>`: 覆盖节点显示名称
- `--runtime <runtime>`: 服务运行时 (`node` 或 `bun`)
- `--force`: 如果已安装，重新安装/覆盖

管理服务:

```bash
openclaw node status
openclaw node stop
openclaw node restart
openclaw node uninstall
```

使用 `openclaw node run` 运行前台节点主机 (无服务)。

服务命令接受 `--json` 以获得机器可读输出。

## 配对

第一次连接会在网关上创建一个待处理的节点配对请求。
通过以下方式批准:

```bash
openclaw nodes pending
openclaw nodes approve <requestId>
```
