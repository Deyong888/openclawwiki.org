---
title: 配对 (Pairing)
description: 批准对您的网关的访问
sidebar:
  order: 4
---

OpenClaw 默认是安全的。即使有人在 Telegram/Discord 等平台上找到了您的机器人，在您批准之前，他们也无法与它交谈。同样，如果您在不同设备上运行多个 OpenClaw 节点，它们必须先进行配对才能加入网络。

## 私信配对 (DM Pairing)

这是为了控制**谁可以与机器人交谈**。

当一个新用户向您的机器人发送消息时，OpenClaw 会在控制台记录一个请求。您必须批准它。

### 批准流程

1.  **用户**：向机器人发送 "Hello"。
2.  **机器人**：回复 "I need permission to speak with you. Ask the admin to run: `openclaw pairing approve telegram <CODE>`"（我需要权限才能与您交谈。请管理员运行...）。
3.  **管理员**（您）：检查日志或运行列表命令：
    ```bash
    openclaw pairing list telegram
    ```
4.  **管理员**：批准该用户：
    ```bash
    openclaw pairing approve telegram 123456789
    ```
5.  **机器人**：现在将回复该用户的所有消息。

### 拒绝

如果您不认识该用户，只需忽略该请求，或者您可以明确拒绝它（尽管通常忽略就足够了）。

### 状态存储位置

配对数据存储在您的 `workspace/auth/` 目录中。如果您删除了此目录，您将需要重新批准所有用户。

## 节点配对 (Node Pairing)

这是为了控制**哪些设备可以加入网关网络**。

如果您在无头服务器（例如 Raspberry Pi 或 VPS）上运行 OpenClaw 网关，并希望从您的笔记本电脑或手机连接到它，您需要对设备进行配对。

### 流程

1.  **客户端节点**（例如笔记本电脑）：尝试连接到网关。
2.  **网关**：看到连接尝试并生成一个请求 ID。
3.  **管理员**（在网关机器上）：列出待处理的设备：
    ```bash
    openclaw devices list
    ```
4.  **管理员**：批准设备：
    ```bash
    openclaw devices approve <requestId>
    ```
    或者拒绝：
    ```bash
    openclaw devices reject <requestId>
    ```

一旦获得批准，设备将收到一个长期有效的令牌，用于未来的连接。

### 安全说明

*   **切勿**批准您不认识的设备。
*   配对后的设备具有对网关的完全访问权限，包括运行命令和查看消息。

## 故障排除

*   **我看不到配对请求**：检查您的机器人令牌是否正确，以及网关是否已连接到互联网。
*   **批准后仍然无法交谈**：尝试重启网关服务。
*   **丢失了管理员访问权限**：如果您被锁定，您可能需要手动编辑 `workspace/auth/` 中的 JSON 文件或重置该目录（警告：这将移除所有已配对的用户）。
